基本任务已经完成，提高任务还有一些bug

下面是完成作业过程中的一些发现

1. 似乎sample，eval和pdf这几个函数中的wi和wo的含义有些奇怪，与课上定义的相悖（即wi是view ray，wo才是object ray），这点在作业要求中有说明，需要特别注意

2. 为了提高渲染速度，首先需要将随机数函数中的几个变量都定义成static类型的，然后开启多线程（omp或多线程都可以），还需要在编译选项中加入O3或Ofast，并将生成模式改成Release

3. 在查阅Microfacet相关的资料时，发现shadow masking function以及normal distribution function有多种形式可供选择，最后才用了GGX和Smith来分别计算D项和G项

4. 直接套用老师上课所讲的Microfacet渲染出来的结果会非常地黯淡，不得已加上一个漫反射项，然后发现这个模型似乎被称为Cook-Torrance模型。据网友说，老师在之后的课程中驳斥了这种加漫反射项的做法，说这种方法并不遵循物理规律，不过从实际应用角度来看效果还是很不错的

5. 由于数值精度问题，灯的周围有一圈黑色的噪点，并且全图会随机出现一些白色的噪点，通过将castRay限制在-1.0到1.0之间可以避免这个现象

一些待实现的想法：

1. 重要性采样

2. BTDF

3. 测试Bunny模型